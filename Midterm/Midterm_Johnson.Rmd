---
title: "Miderm Exam Spring 2023"
author: "Johnson ODEJIDE"
date: "2023-03-22"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = F, warning = T)

options(scipen = 4)

library(tidyverse)
```

## 1)

Using r coding demonstrated in class, Write a function that will decrease any positive number by its square root. Test your function by using the value 100.

```{r}
decrease_by_sqrt <- function(number){
  result <- number - sqrt(number)
  
  print(paste("The result is ", result))
}

decrease_by_sqrt(100)
```


## 2) 

Using r coding demonstrated in class, Write a function that will calculate the volume and the surface area of cylinder.  Test the accuracy of your function by using a cylinder of radius 10 and a height of 4.5. (Your answers should be 1413.7167 and 911.0619)

```{r}
cylinder <- function(radius, height){
  volume <- pi * (radius ^ 2) * height
  
  surf_area <- 2 * pi * radius * (height + radius)
  
  print(paste("The volume of a cylinder with radius ", radius, " and height ", height, " is ", round(volume,4)))
  
  print(paste("The surface area of a cylinder with radius ", radius, " and height ", height, " is ", round(surf_area, 4)))
}

cylinder(10, 4.5)
```

## 3

Using the if-else coding structure demonstrated in class, write a function that will determine if a number is divisible by 9. If your number is  divisible by 9, the function generates the following statement: this number is divisible by 9. If the function is not divisible by 9, the function produces a statement that reads: this number is not divisible by 9. Test your function by using the numbers 153 and 2009.

```{r}
divisible_by_nine <- function(number){
  if(number %% 9 == 0){
    print("This number is divisible by 9")
  }else{
    print("This number is not divisible by 9")
  }
}

divisible_by_nine(153)

divisible_by_nine(2009)
```

## 4

Using r coding methods demonstrated in class, write a function that will produce the difference between the cubes and the squares of the first 10 positive integers. Your output should be given in reverse order. The  following number sequence should be produced: 900 648 448 294 180 100  48  18 4 0

```{r}
cube_square_diff <- function(){
  num <- c(10:1)
  
  output = ""
  
  for(i in num){
    cube <- i ^ 3
    square <- i ^ 2
    output = paste(output, (cube - square), " ")
  }
  print(output)
}

cube_square_diff()
```


## 5

```{r}
U <- c("Maine" , "Texas", "Delaware", "Oregon", "Utah", "Vermont", "Ohio")
```

**a)**  

Is U an atomic vector or a list ?

*Yes*, U is an atomic vector beacause all the objects are character strings.

**b)**  

Use and show R code that will extract the elements  "Maine" and "Vermont".

```{r}
U[c(1, 6)]
```


**c)**  

Use and show R code that will extract all elements except "Texas".

```{r}
U[-2]
```


**d)**  

Use and show R code that will produce the length of U.

```{r}
length(U)
```
## 6)  


```{r}
V = list("Chicago", k = list( 2, 6, 18, 24), FALSE, 13, 1.3,  y = 1:10)
```

**a)**  Is V an atomic vector or a list ?

V is a list because it has different objects


**b)**  Use and show R code that will extract the 5th element of V.

```{r}
V[[5]]
```


c)  If the vector V is a list, use and show R code to identify the type of each object in V.

```{r}
typeof(V[[1]])
typeof(V[[2]])
typeof(V[[3]])
typeof(V[[4]])
typeof(V[[5]])
typeof(V[[6]])
```


## 7

Copy paste and run the tribble given below.

```{r}
tribble( ~John,    ~Raymond,    ~Martha,    ~Alice,   ~Juan,
            86,         77,         81,         88,     90,
            79,         78,         85,         81,     78,
            76,         75,         88,         94,     81,
            84,         90,         71,         84,     89,
            100,        80,         93,         85,     84,
            90,         73,         70,         88,     93
) -> TestScores
TestScores
```

**a)**

Use and show R code (a map function) to find the median for each column.

```{r}
map_dbl(TestScores, median)
```

**b)**

Use and show R code (a map function) to find the cube root of each column element.

```{r}
TestScores %>% 
  map(~. ^ (1/3))
```

**c)**

Use and show R code (a map function) to convert each column value to 0.

```{r}
TestScores %>% 
  map(~. * 0)
```

## 8

Use and show R code, as demonstrated in class to produce the following matrix

```{r}
myMatrix <- matrix(nrow = 3, ncol = 4)

for(i in 1:nrow(myMatrix)){
  for(j in 1:ncol(myMatrix)){
    myMatrix[i, j] = -1 * (i + j) ^ 2
  }
}
myMatrix
```

## 9

Using the midwest data table, produce and show R code that will produce 20 observational rows of the table given below that only shows the first five observational rows. Use tidyverse/dplyr commands. Note that the state abbreviation WI has been changed to Wisconsin and Wisconsin is the only state listed.

```{r}

midwest %>% 
  filter(state == "WI")  %>% 
  select(state, county, area, percollege) %>% 
  mutate(state = recode(state, "WI" = "Wisconsin"),
         percollege = round(percollege, digits = 1)) %>% 
  head(20)
```

## 10

Now show and use data.table coding to produce the same output that you created for number 9.

```{r}
library(data.table)

 write.csv(midwest, 'midwest.csv') # Write the data to csv
 midwest <- fread('midwest.csv') # Read the data using the fread function

# Select state, county, area, percollege where state is WI
midwest[state == "WI", .(state, county, area, percollege)] -> midwest1 

# Change state name from WI to Wisconsin
midwest1[, c("state") := "Wisconsin"] -> midwestn

# round percollege to 1 decimal place.
finmidwest <- midwestn[, c('percollege') := .(round(percollege, digits = 1))]
head(as_tibble(finmidwest), 20)

# Get the first 20 observational rows
# head(finmidwest, 20)
```

